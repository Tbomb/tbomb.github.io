<h1>Node.js - jsonfile</h1>
<p>Easily read/write JSON files.</p>
<p><a href="https://www.npmjs.org/package/jsonfile"><img src="https://img.shields.io/npm/v/jsonfile.svg?style=flat-square" alt="npm Package"></a>
<a href="http://travis-ci.org/jprichardson/node-jsonfile"><img src="https://secure.travis-ci.org/jprichardson/node-jsonfile.svg" alt="build status"></a>
<a href="https://ci.appveyor.com/project/jprichardson/node-jsonfile/branch/master"><img src="https://img.shields.io/appveyor/ci/jprichardson/node-jsonfile/master.svg?label=windows%20build" alt="windows Build status"></a></p>
<p><a href="https://github.com/feross/standard"><img src="https://cdn.rawgit.com/feross/standard/master/sticker.svg" alt="Standard JavaScript" width="100"></a></p>
<h2>Why?</h2>
<p>Writing <code>JSON.stringify()</code> and then <code>fs.writeFile()</code> and <code>JSON.parse()</code> with <code>fs.readFile()</code> enclosed in <code>try/catch</code> blocks became annoying.</p>
<h2>Installation</h2>
<pre><code>npm install --save jsonfile
</code></pre>
<h2>API</h2>
<h3>readFile(filename, [options], callback)</h3>
<p><code>options</code> (<code>object</code>, default <code>undefined</code>): Pass in any <code>fs.readFile</code> options or set <code>reviver</code> for a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON reviver</a>.</p>
<ul>
<li><code>throws</code> (<code>boolean</code>, default: <code>true</code>). If <code>JSON.parse</code> throws an error, pass this error to the callback.
If <code>false</code>, returns <code>null</code> for the object.</li>
</ul>
<pre><code class="language-js">var jsonfile = require('jsonfile')
var file = '/tmp/data.json'
jsonfile.readFile(file, function(err, obj) {
  console.dir(obj)
})
</code></pre>
<h3>readFileSync(filename, [options])</h3>
<p><code>options</code> (<code>object</code>, default <code>undefined</code>): Pass in any <code>fs.readFileSync</code> options or set <code>reviver</code> for a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse">JSON reviver</a>.</p>
<ul>
<li><code>throws</code> (<code>boolean</code>, default: <code>true</code>). If an error is encountered reading or parsing the file, throw the error. If <code>false</code>, returns <code>null</code> for the object.</li>
</ul>
<pre><code class="language-js">var jsonfile = require('jsonfile')
var file = '/tmp/data.json'

console.dir(jsonfile.readFileSync(file))
</code></pre>
<h3>writeFile(filename, obj, [options], callback)</h3>
<p><code>options</code>: Pass in any <code>fs.writeFile</code> options or set <code>replacer</code> for a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">JSON replacer</a>. Can also pass in <code>spaces</code> and override <code>EOL</code> string.</p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = {name: 'JP'}

jsonfile.writeFile(file, obj, function (err) {
  console.error(err)
})
</code></pre>
<p><strong>formatting with spaces:</strong></p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = {name: 'JP'}

jsonfile.writeFile(file, obj, {spaces: 2}, function(err) {
  console.error(err)
})
</code></pre>
<p><strong>overriding EOL:</strong></p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = {name: 'JP'}

jsonfile.writeFile(file, obj, {spaces: 2, EOL: '\r\n'}, function(err) {
  console.error(err)
})
</code></pre>
<p><strong>appending to an existing JSON file:</strong></p>
<p>You can use <code>fs.writeFile</code> option <code>{flag: 'a'}</code> to achieve this.</p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/mayAlreadyExistedData.json'
var obj = {name: 'JP'}

jsonfile.writeFile(file, obj, {flag: 'a'}, function (err) {
  console.error(err)
})
</code></pre>
<h3>writeFileSync(filename, obj, [options])</h3>
<p><code>options</code>: Pass in any <code>fs.writeFileSync</code> options or set <code>replacer</code> for a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">JSON replacer</a>. Can also pass in <code>spaces</code> and override <code>EOL</code> string.</p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = {name: 'JP'}

jsonfile.writeFileSync(file, obj)
</code></pre>
<p><strong>formatting with spaces:</strong></p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = {name: 'JP'}

jsonfile.writeFileSync(file, obj, {spaces: 2})
</code></pre>
<p><strong>overriding EOL:</strong></p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/data.json'
var obj = {name: 'JP'}

jsonfile.writeFileSync(file, obj, {spaces: 2, EOL: '\r\n'})
</code></pre>
<p><strong>appending to an existing JSON file:</strong></p>
<p>You can use <code>fs.writeFileSync</code> option <code>{flag: 'a'}</code> to achieve this.</p>
<pre><code class="language-js">var jsonfile = require('jsonfile')

var file = '/tmp/mayAlreadyExistedData.json'
var obj = {name: 'JP'}

jsonfile.writeFileSync(file, obj, {flag: 'a'})
</code></pre>
<h2>License</h2>
<p>(MIT License)</p>
<p>Copyright 2012-2016, JP Richardson  <a href="mailto:jprichardson@gmail.com">jprichardson@gmail.com</a></p>
