<h1>PostCSS JS <a href="https://travis-ci.org/postcss/postcss-js"><img src="https://travis-ci.org/postcss/postcss-js.svg" alt="Build Status"></a></h1>
<p><img align="right" width="95" height="95"
     title="Philosopher’s stone, logo of PostCSS"
     src="http://postcss.github.io/postcss/logo.svg"></p>
<p><a href="https://github.com/postcss/postcss">PostCSS</a> for React Inline Styles, Radium, JSS and other CSS-in-JS.</p>
<p>For example, to use <a href="https://github.com/stylelint/stylelint">Stylelint</a>, <a href="https://github.com/MohammadYounes/rtlcss">RTLCSS</a> or <a href="https://github.com/jonathantneal/postcss-write-svg">postcss-write-svg</a> plugins
in your workflow.</p>
<h2>Usage</h2>
<h3>Installation</h3>
<pre><code class="language-sh">npm i postcss-js
</code></pre>
<h3>Processing</h3>
<pre><code class="language-js">const postcssJs = require('postcss-js')
const autoprefixer = require('autoprefixer')

const prefixer = postcssJs.sync([ autoprefixer ]);

const style = prefixer({
    userSelect: 'none'
});

style //=&gt; {
      //     WebkitUserSelect: 'none',
      //        MozUserSelect: 'none',
      //         msUserSelect: 'none',
      //           userSelect: 'none'
      //   }
</code></pre>
<h3>Compile CSS-in-JS to CSS</h3>
<pre><code class="language-js">const postcss = require('postcss')
const postcssJs = require('postcss-js')

const style = {
    top: 10,
    '&amp;:hover': {
        top: 5
    }
};

postcss().process(style, { parser: postcssJs }).then( (result) =&gt; {
    result.css //=&gt; top: 10px;
               //   &amp;:hover { top: 5px; }
})
</code></pre>
<h3>Compile CSS to CSS-in-JS</h3>
<pre><code class="language-js">const postcss = require('postcss')
const postcssJs = require('postcss-js')

const css  = '@media screen { z-index: 1 }'
const root = postcss.parse(css);

postcssJs.objectify(root) //=&gt; { '@media screen': { zIndex: '1' } }
</code></pre>
<h2>API</h2>
<h3><code>sync(plugins): function</code></h3>
<p>Create PostCSS processor with simple API, but with only sync PostCSS plugins
support.</p>
<p>Processor is just a function, which takes one style object and return other.</p>
<h3><code>async(plugins): function</code></h3>
<p>Same as <code>sync</code>, but also support async plugins.</p>
<p>Returned processor will return Promise.</p>
<h3><code>parse(obj): Root</code></h3>
<p>Parse CSS-in-JS style object to PostCSS <code>Root</code> instance.</p>
<p>It converts numbers to pixels and parses
[Free Style] like selectors and at-rules:</p>
<pre><code class="language-js">{
    '@media screen': {
        '&amp;:hover': {
            top: 10
        }
    }
}
</code></pre>
<p>This methods use Custom Syntax name convention, so you can use it like this:</p>
<pre><code class="language-js">postcss().process(obj, { parser: postcssJs })
</code></pre>
<h3><code>objectify(root): object</code></h3>
<p>Convert PostCSS <code>Root</code> instance to CSS-in-JS style object.</p>
<h2>Troubleshoot</h2>
<p>Webpack may need some extra config for some PostCSS plugins.</p>
<h3><code>Module parse failed</code></h3>
<p>Autoprefixer and some other plugins
need a <a href="https://github.com/webpack/json-loader">json-loader</a> to import data.</p>
<p>So, please install this loader and add to webpack config:</p>
<pre><code class="language-js">loaders: [
    {
        test: /\.json$/,
        loader: &quot;json-loader&quot;
    }
]
</code></pre>
